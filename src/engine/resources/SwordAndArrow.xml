<?xml version="1.0" encoding="UTF-8"?>
<game>
    <grid-width>5</grid-width>
    <grid-height>5</grid-height>

    <gameplay.Player>
        <myID>0</myID>
        <myStats/>
        <myEntityIDs>
            <int>1</int>
            <int>2</int>
        </myEntityIDs>
    </gameplay.Player>

    <gameplay.Player>
        <myID>1</myID>
        <myStats/>
        <myEntityIDs>
            <int>3</int>
            <int>4</int>
        </myEntityIDs>
    </gameplay.Player>

    <gameplay.Tile>
        <myID>0</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>0</myXCoord>
        <myYCoord>0</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>1</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>1</myXCoord>
        <myYCoord>0</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>2</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>2</myXCoord>
        <myYCoord>0</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>3</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>3</myXCoord>
        <myYCoord>0</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>4</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>4</myXCoord>
        <myYCoord>0</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>5</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>0</myXCoord>
        <myYCoord>1</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>6</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>1</myXCoord>
        <myYCoord>1</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>7</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>2</myXCoord>
        <myYCoord>1</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>8</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>3</myXCoord>
        <myYCoord>1</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>9</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>4</myXCoord>
        <myYCoord>1</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>10</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>0</myXCoord>
        <myYCoord>2</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>11</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>1</myXCoord>
        <myYCoord>2</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>12</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>2</myXCoord>
        <myYCoord>2</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>13</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>3</myXCoord>
        <myYCoord>2</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>14</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>4</myXCoord>
        <myYCoord>2</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>15</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>0</myXCoord>
        <myYCoord>3</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>16</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>1</myXCoord>
        <myYCoord>3</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>17</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>2</myXCoord>
        <myYCoord>3</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>18</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>3</myXCoord>
        <myYCoord>3</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>19</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>4</myXCoord>
        <myYCoord>3</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>20</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>0</myXCoord>
        <myYCoord>4</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>21</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>1</myXCoord>
        <myYCoord>4</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>22</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>2</myXCoord>
        <myYCoord>4</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>23</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>3</myXCoord>
        <myYCoord>4</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>
    <gameplay.Tile>
        <myID>24</myID>
        <name>Box</name>
        <props/>
        <myWidth>1</myWidth>
        <myHeight>1</myHeight>
        <myXCoord>4</myXCoord>
        <myYCoord>4</myYCoord>
        <myImagePaths>
            <string>square.png</string>
        </myImagePaths>
        <myEntities/>
        <myImageSelector></myImageSelector>
        <myImages/>
    </gameplay.Tile>

    <gameplay.EntityPrototype>
        <name>Swordman</name>
        <props>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>3</int>
            </entry>
            <entry>
                <string>attackRange</string>
                <int>1</int>
            </entry>
        </props>
        <myImagePaths>
            <string>swordman1.png</string>
            <string>swordman2.png</string>
            <string>swordman3.png</string>
            <string>swordman4.png</string>
            <string>swordman5.png</string>
        </myImagePaths>
        <myImageSelector>
            $return = $this.props.hp-1
        </myImageSelector>
    </gameplay.EntityPrototype>

    <gameplay.EntityPrototype>
        <name>Bowman</name>
        <props>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>1</int>
            </entry>
            <entry>
                <string>attackRange</string>
                <int>5</int>
            </entry>
        </props>
        <myImagePaths>
            <string>bowman1.png</string>
            <string>bowman2.png</string>
            <string>bowman3.png</string>
            <string>bowman4.png</string>
            <string>bowman5.png</string>
        </myImagePaths>
        <myImageSelector>
            $return = $this.props.hp-1
        </myImageSelector>
    </gameplay.EntityPrototype>

    <gameplay.Entity>
        <myID>1</myID>
        <name>Swordman</name>
        <myXCoord>0</myXCoord>
        <myYCoord>0</myYCoord>
        <props>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>3</int>
            </entry>
            <entry>
                <string>attackRange</string>
                <int>1</int>
            </entry>
        </props>
        <myImagePaths>
            <string>swordman1.png</string>
            <string>swordman2.png</string>
            <string>swordman3.png</string>
            <string>swordman4.png</string>
            <string>swordman5.png</string>
        </myImagePaths>
        <myImageSelector>
            $return = $this.props.hp-1
        </myImageSelector>
    </gameplay.Entity>

    <gameplay.Entity>
        <myID>2</myID>
        <name>Swordman</name>
        <myXCoord>1</myXCoord>
        <myYCoord>0</myYCoord>
        <props>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>3</int>
            </entry>
            <entry>
                <string>attackRange</string>
                <int>1</int>
            </entry>
        </props>
        <myImagePaths>
            <string>swordman1.png</string>
            <string>swordman2.png</string>
            <string>swordman3.png</string>
            <string>swordman4.png</string>
            <string>swordman5.png</string>
        </myImagePaths>
        <myImageSelector>
            $return = $this.props.hp-1
        </myImageSelector>
    </gameplay.Entity>

    <gameplay.Entity>
        <myID>3</myID>
        <name>Bowman</name>
        <myXCoord>4</myXCoord>
        <myYCoord>4</myYCoord>
        <props>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>1</int>
            </entry>
            <entry>
                <string>attackRange</string>
                <int>5</int>
            </entry>
        </props>
        <myImagePaths>
            <string>bowman1.png</string>
            <string>bowman2.png</string>
            <string>bowman3.png</string>
            <string>bowman4.png</string>
            <string>bowman5.png</string>
        </myImagePaths>
        <myImageSelector>
            $return = $this.props.hp-1
        </myImageSelector>
    </gameplay.Entity>

    <gameplay.Entity>
        <myID>4</myID>
        <name>Bowman</name>
        <myXCoord>3</myXCoord>
        <myYCoord>4</myYCoord>
        <props>
            <entry>
                <string>hp</string>
                <int>5</int>
            </entry>
            <entry>
                <string>dmg</string>
                <int>1</int>
            </entry>
            <entry>
                <string>attackRange</string>
                <int>5</int>
            </entry>
        </props>
        <myImagePaths>
            <string>bowman1.png</string>
            <string>bowman2.png</string>
            <string>bowman3.png</string>
            <string>bowman4.png</string>
            <string>bowman5.png</string>
        </myImagePaths>
        <myImageSelector>
            $return = $this.props.hp-1
        </myImageSelector>
    </gameplay.Entity>

    <gameplay.Phase>
        <myID>1</myID>
        <myStartNodeID>1</myStartNodeID>
        <myCurrentNodeID>0</myCurrentNodeID>
        <myNodeIDs>
            <int>1</int>
            <int>2</int>
        </myNodeIDs>
    </gameplay.Phase>

    <gameplay.Node>
        <myPhaseID>1</myPhaseID>
        <myID>1</myID>
        <myExecution/>
    </gameplay.Node>

    <gameplay.Node>
        <myPhaseID>1</myPhaseID>
        <myID>2</myID>
        <myExecution>
            selected = $clicked
        </myExecution>
    </gameplay.Node>

    <gameplay.Node>
        <myPhaseID>1</myPhaseID>
        <myID>3</myID>
        <myExecution>
            GameData.moveEntity(selected, $clicked)
            GameData.setCurrentPlayerID(1-GameData.getCurrentPlayerID())
            GameData.goTo(1)
        </myExecution>
    </gameplay.Node>

    <gameplay.Node>
        <myPhaseID>1</myPhaseID>
        <myID>4</myID>
        <myExecution>
            $clicked.props.hp = $clicked.props.hp - selected.props.dmg
            if($clicked.props.hp &lt;= 0) {
                GameData.removeEntity($clicked)
            }
            GameData.setCurrentPlayerID(1-GameData.getCurrentPlayerID())
            GameData.goTo(1)
        </myExecution>
    </gameplay.Node>

    <gameplay.Edge>
        <myID>1</myID>
        <myPhaseID>1</myPhaseID>
        <myStartNodeID>1</myStartNodeID>
        <myEndNodeID>2</myEndNodeID>
        <myTrigger class="phase.api.GameEvent$MouseClick"/>
        <myGuard>
            if(GameData.isEntity($clicked) &amp;&amp; GameData.getCurrentPlayer().isMyEntity($clicked)) { $return = true }
            else { $return = false }
        </myGuard>
    </gameplay.Edge>

    <gameplay.Edge>
        <myID>2</myID>
        <myPhaseID>1</myPhaseID>
        <myStartNodeID>2</myStartNodeID>
        <myEndNodeID>3</myEndNodeID>
        <myTrigger class="phase.api.GameEvent$MouseClick"/>
        <myGuard>
            if(GameData.isTile($clicked) &amp;&amp; GameData.distance($clicked, selected) &lt;= 1 &amp;&amp; $clicked.hasNoEntities()) { $return = true }
            else { $return = false }
        </myGuard>
    </gameplay.Edge>

    <gameplay.Edge>
        <myID>3</myID>
        <myPhaseID>1</myPhaseID>
        <myStartNodeID>2</myStartNodeID>
        <myEndNodeID>4</myEndNodeID>
        <myTrigger class="phase.api.GameEvent$MouseClick"/>
        <myGuard>
            if(GameData.isEntity($clicked) &amp;&amp; !GameData.getCurrentPlayer().isMyEntity($clicked) &amp;&amp; GameData.distance($clicked, selected) &lt;= selected.props.attackRange ) { $return = true }
            else { $return = false }
        </myGuard>
    </gameplay.Edge>


    <gameplay.Turn>
        <myCurrentPhaseID>1</myCurrentPhaseID>
        <myCurrentPlayerID>0</myCurrentPlayerID>
    </gameplay.Turn>
</game>